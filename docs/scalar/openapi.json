{
  "openapi": "3.1.0",
  "info": {
    "title": "Gym API",
    "version": "1.0.0",
    "description": "API completa para gerenciamento de academia, exercícios, treinos e registros"
  },
  "servers": [
    {
      "url": "http://localhost:8000/api/v1",
      "description": "Servidor de desenvolvimento"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  },
                  "remember_me": {
                    "type": "boolean",
                    "description": "Quando verdadeiro emite um token com expiração estendida.",
                    "default": false
                  },
                  "driver": {
                    "type": "string",
                    "enum": [
                      "sanctum"
                    ],
                    "description": "Driver de autenticação (atualmente apenas sanctum).",
                    "default": "sanctum"
                  }
                }
              },
              "example": {
                "email": "admin@example.com",
                "password": "admin",
                "remember_me": false,
                "driver": "sanctum"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthToken"
                }
              }
            }
          },
          "401": {
            "description": "Credenciais inválidas"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Registrar novo usuário",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "password",
                  "password_confirmation"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "maxLength": 255
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8
                  },
                  "password_confirmation": {
                    "type": "string"
                  }
                }
              },
              "example": {
                "name": "João Silva",
                "email": "joao@example.com",
                "password": "senha12345",
                "password_confirmation": "senha12345"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuário registrado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthToken"
                }
              }
            }
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/user": {
      "get": {
        "tags": [
          "Auth"
        ],
        "summary": "Obter usuário autenticado",
        "responses": {
          "200": {
            "description": "Dados do usuário autenticado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthUser"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Logout",
        "responses": {
          "200": {
            "description": "Logout realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                },
                "example": {
                  "message": "Logged out successfully"
                }
              }
            }
          }
        }
      }
    },
    "/auth/active-role": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Ativar role do usuário",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "role"
                ],
                "properties": {
                  "role": {
                    "type": "string",
                    "description": "Nome da role que já precisa estar atribuída ao usuário autenticado."
                  }
                }
              },
              "example": {
                "role": "admin"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Role ativada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthUser"
                }
              }
            }
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/user": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Listar usuários",
        "parameters": [
          {
            "name": "filter[id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID exato"
          },
          {
            "name": "filter[name]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filtrar por nome"
          },
          {
            "name": "filter[email]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filtrar por email"
          },
          {
            "name": "filter[search]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Busca geral (id, name)"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: roles"
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Ordenar por: id, name, email"
          },
          {
            "$ref": "#/components/parameters/PageNumber"
          },
          {
            "$ref": "#/components/parameters/PageSize"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista paginada de usuários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedUsers"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Criar usuário",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "password",
                  "password_confirmation"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "maxLength": 255
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8
                  },
                  "password_confirmation": {
                    "type": "string",
                    "description": "Deve corresponder ao campo password."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "200": {
            "description": "Usuário criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        }
      }
    },
    "/user/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Visualizar usuário",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: roles"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do usuário",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "404": {
            "description": "Usuário não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "User"
        ],
        "summary": "Atualizar usuário",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "maxLength": 255,
                    "description": "Precisa ser único entre todos os usuários."
                  }
                },
                "required": [
                  "name",
                  "email"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuário atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "404": {
            "description": "Usuário não encontrado"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "Deletar usuário",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Usuário deletado com sucesso"
          },
          "404": {
            "description": "Usuário não encontrado"
          }
        }
      }
    },
    "/user/{id}/roles/assign": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Atribuir roles ao usuário",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "roles"
                ],
                "properties": {
                  "roles": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "example": {
                "roles": [
                  "admin",
                  "user"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Retorna o usuário com roles atualizadas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        }
      }
    },
    "/user/{id}/roles/revoke": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Revogar roles do usuário",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "roles"
                ],
                "properties": {
                  "roles": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Retorna o usuário com roles atualizadas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        }
      }
    },
    "/user/{id}/roles/sync": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Sincronizar roles do usuário",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "roles"
                ],
                "properties": {
                  "roles": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Retorna o usuário com roles atualizadas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        }
      }
    },
    "/muscle-group": {
      "get": {
        "tags": [
          "Muscle Group"
        ],
        "summary": "Listar grupos musculares",
        "parameters": [
          {
            "name": "filter[id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID exato"
          },
          {
            "name": "filter[name]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filtrar por nome"
          },
          {
            "name": "filter[search]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Busca geral (id, name)"
          },
          {
            "$ref": "#/components/parameters/PageNumber"
          },
          {
            "$ref": "#/components/parameters/PageSize"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista paginada de grupos musculares",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedMuscleGroups"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Muscle Group"
        ],
        "summary": "Criar grupo muscular",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  }
                }
              },
              "example": {
                "name": "Peitorais"
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "200": {
            "description": "Grupo muscular criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MuscleGroup"
                }
              }
            }
          }
        }
      }
    },
    "/muscle-group/{id}": {
      "get": {
        "tags": [
          "Muscle Group"
        ],
        "summary": "Visualizar grupo muscular",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do grupo muscular",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MuscleGroup"
                }
              }
            }
          },
          "404": {
            "description": "Grupo muscular não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Muscle Group"
        ],
        "summary": "Atualizar grupo muscular",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Grupo muscular atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MuscleGroup"
                }
              }
            }
          },
          "404": {
            "description": "Grupo muscular não encontrado"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Muscle Group"
        ],
        "summary": "Deletar grupo muscular",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Grupo muscular deletado com sucesso"
          },
          "404": {
            "description": "Grupo muscular não encontrado"
          }
        }
      }
    },
    "/exercise": {
      "get": {
        "tags": [
          "Exercise"
        ],
        "summary": "Listar exercícios",
        "parameters": [
          {
            "name": "filter[id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID exato"
          },
          {
            "name": "filter[name]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filtrar por nome"
          },
          {
            "name": "filter[muscle_group_id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por grupo muscular"
          },
          {
            "name": "filter[search]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Busca geral (id, name, muscle_group_id, muscleGroup.name)"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: muscleGroup"
          },
          {
            "$ref": "#/components/parameters/PageNumber"
          },
          {
            "$ref": "#/components/parameters/PageSize"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista paginada de exercícios",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedExercises"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Exercise"
        ],
        "summary": "Criar exercício",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "muscle_group_id",
                  "gif"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "muscle_group_id": {
                    "type": "integer"
                  },
                  "gif": {
                    "type": "string",
                    "format": "binary",
                    "description": "Arquivo GIF do exercício"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "200": {
            "description": "Exercício criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Exercise"
                }
              }
            }
          }
        }
      }
    },
    "/exercise/{id}": {
      "get": {
        "tags": [
          "Exercise"
        ],
        "summary": "Visualizar exercício",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: muscleGroup"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do exercício",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Exercise"
                }
              }
            }
          },
          "404": {
            "description": "Exercício não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Exercise"
        ],
        "summary": "Atualizar exercício",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "muscle_group_id": {
                    "type": "integer"
                  },
                  "gif": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "description": "Envie apenas os campos que deseja alterar. Para atualizar o GIF o conteúdo deve ser multipart/form-data."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Exercício atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Exercise"
                }
              }
            }
          },
          "404": {
            "description": "Exercício não encontrado"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Exercise"
        ],
        "summary": "Deletar exercício",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Exercício deletado com sucesso"
          },
          "404": {
            "description": "Exercício não encontrado"
          }
        }
      }
    },
    "/workout": {
      "get": {
        "tags": [
          "Workout"
        ],
        "summary": "Listar treinos",
        "parameters": [
          {
            "name": "filter[id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID exato"
          },
          {
            "name": "filter[name]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Filtrar por nome"
          },
          {
            "name": "filter[user_id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por usuário"
          },
          {
            "name": "filter[search]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Busca geral (id, name, user_id, user.name, description)"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: user"
          },
          {
            "$ref": "#/components/parameters/PageNumber"
          },
          {
            "$ref": "#/components/parameters/PageSize"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista paginada de treinos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedWorkouts"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Workout"
        ],
        "summary": "Criar treino",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "user_id"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "user_id": {
                    "type": "integer"
                  },
                  "description": {
                    "type": "string",
                    "nullable": true
                  }
                }
              },
              "example": {
                "name": "Treino A - Peito e Tríceps",
                "user_id": 1,
                "description": "Treino focado em peitorais e tríceps"
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "200": {
            "description": "Treino criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Workout"
                }
              }
            }
          }
        }
      }
    },
    "/workout/{id}": {
      "get": {
        "tags": [
          "Workout"
        ],
        "summary": "Visualizar treino",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: user"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do treino",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Workout"
                }
              }
            }
          },
          "404": {
            "description": "Treino não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Workout"
        ],
        "summary": "Atualizar treino",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255
                  },
                  "user_id": {
                    "type": "integer"
                  },
                  "description": {
                    "type": "string",
                    "nullable": true
                  }
                },
                "description": "Todos os campos são opcionais; apenas os enviados serão atualizados."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Treino atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Workout"
                }
              }
            }
          },
          "404": {
            "description": "Treino não encontrado"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Workout"
        ],
        "summary": "Deletar treino",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Treino deletado com sucesso"
          },
          "404": {
            "description": "Treino não encontrado"
          }
        }
      }
    },
    "/workout-exercise": {
      "get": {
        "tags": [
          "Workout Exercise"
        ],
        "summary": "Listar exercícios de treinos",
        "parameters": [
          {
            "name": "filter[id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID exato"
          },
          {
            "name": "filter[exercise_id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por exercício"
          },
          {
            "name": "filter[workout_id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por treino"
          },
          {
            "name": "filter[sets]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por número de séries"
          },
          {
            "name": "filter[reps]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por número de repetições"
          },
          {
            "name": "filter[weight]",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "description": "Filtrar por peso"
          },
          {
            "name": "filter[search]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Busca geral"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: exercise, exercise.muscleGroup, workout, workout.user"
          },
          {
            "$ref": "#/components/parameters/PageNumber"
          },
          {
            "$ref": "#/components/parameters/PageSize"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista paginada de exercícios de treinos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedWorkoutExercises"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Workout Exercise"
        ],
        "summary": "Adicionar exercício ao treino",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "exercise_id",
                  "workout_id",
                  "sets",
                  "reps"
                ],
                "properties": {
                  "exercise_id": {
                    "type": "integer"
                  },
                  "workout_id": {
                    "type": "integer"
                  },
                  "sets": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "reps": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "weight": {
                    "type": "number",
                    "minimum": 0,
                    "nullable": true,
                    "description": "Opcional, aceita valores nulos."
                  }
                }
              },
              "example": {
                "exercise_id": 1,
                "workout_id": 1,
                "sets": 4,
                "reps": 12,
                "weight": 50.5
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "200": {
            "description": "Exercício adicionado ao treino com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutExercise"
                }
              }
            }
          }
        }
      }
    },
    "/workout-exercise/{id}": {
      "get": {
        "tags": [
          "Workout Exercise"
        ],
        "summary": "Visualizar exercício de treino",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: exercise, exercise.muscleGroup, workout, workout.user"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do exercício de treino",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutExercise"
                }
              }
            }
          },
          "404": {
            "description": "Exercício de treino não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Workout Exercise"
        ],
        "summary": "Atualizar exercício de treino",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "exercise_id": {
                    "type": "integer"
                  },
                  "workout_id": {
                    "type": "integer"
                  },
                  "sets": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "reps": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "weight": {
                    "type": "number",
                    "minimum": 0,
                    "nullable": true,
                    "description": "Opcional, aceita valores nulos."
                  }
                },
                "description": "Envie apenas os campos que precisam ser atualizados."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Exercício de treino atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutExercise"
                }
              }
            }
          },
          "404": {
            "description": "Exercício de treino não encontrado"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Workout Exercise"
        ],
        "summary": "Remover exercício do treino",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Exercício removido do treino com sucesso"
          },
          "404": {
            "description": "Exercício de treino não encontrado"
          }
        }
      }
    },
    "/exercise-log": {
      "get": {
        "tags": [
          "Exercise Log"
        ],
        "summary": "Listar registros de exercícios",
        "parameters": [
          {
            "name": "filter[id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por ID exato"
          },
          {
            "name": "filter[user_id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por usuário"
          },
          {
            "name": "filter[exercise_id]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por exercício"
          },
          {
            "name": "filter[date]",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filtrar por data"
          },
          {
            "name": "filter[sets]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por número de séries"
          },
          {
            "name": "filter[reps]",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Filtrar por número de repetições"
          },
          {
            "name": "filter[weight]",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "description": "Filtrar por peso"
          },
          {
            "name": "filter[search]",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Busca geral"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: user, exercise"
          },
          {
            "$ref": "#/components/parameters/PageNumber"
          },
          {
            "$ref": "#/components/parameters/PageSize"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista paginada de registros de exercícios",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedExerciseLogs"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Exercise Log"
        ],
        "summary": "Criar registro de exercício",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "user_id",
                  "exercise_id",
                  "sets",
                  "reps"
                ],
                "properties": {
                  "user_id": {
                    "type": "integer"
                  },
                  "exercise_id": {
                    "type": "integer"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "description": "Data do registro (opcional, usa data atual se não informado)"
                  },
                  "sets": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "reps": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "weight": {
                    "type": "number",
                    "minimum": 0,
                    "nullable": true,
                    "description": "Opcional, aceita valores nulos."
                  }
                }
              },
              "example": {
                "user_id": 1,
                "exercise_id": 1,
                "date": "2025-10-17",
                "sets": 3,
                "reps": 10,
                "weight": 45.0
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "200": {
            "description": "Registro de exercício criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseLog"
                }
              }
            }
          }
        }
      }
    },
    "/exercise-log/{id}": {
      "get": {
        "tags": [
          "Exercise Log"
        ],
        "summary": "Visualizar registro de exercício",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Incluir relacionamentos: user, exercise"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do registro de exercício",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseLog"
                }
              }
            }
          },
          "404": {
            "description": "Registro de exercício não encontrado"
          }
        }
      },
      "put": {
        "tags": [
          "Exercise Log"
        ],
        "summary": "Atualizar registro de exercício",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "integer"
                  },
                  "exercise_id": {
                    "type": "integer"
                  },
                  "sets": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "reps": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "weight": {
                    "type": "number",
                    "minimum": 0,
                    "nullable": true
                  }
                },
                "description": "Todos os campos são opcionais; apenas os enviados serão atualizados."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Registro de exercício atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseLog"
                }
              }
            }
          },
          "404": {
            "description": "Registro de exercício não encontrado"
          },
          "422": {
            "description": "Erro de validação",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Exercise Log"
        ],
        "summary": "Deletar registro de exercício",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Registro de exercício deletado com sucesso"
          },
          "404": {
            "description": "Registro de exercício não encontrado"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "MessageResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        },
        "required": [
          "message"
        ]
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "errors": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "required": [
          "message",
          "errors"
        ]
      },
      "AuthToken": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          }
        },
        "required": [
          "token"
        ]
      },
      "AuthUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "active_role": {
            "type": [
              "string",
              "null"
            ]
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Lista de roles atribuídas ao usuário autenticado."
          },
          "permissions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Permissões agregadas das roles ativas."
          }
        },
        "required": [
          "id",
          "name",
          "email",
          "active_role",
          "roles",
          "permissions"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Disponível apenas quando include=roles é utilizado."
          },
          "roles_count": {
            "type": "integer",
            "description": "Presente quando roles_count é solicitado."
          },
          "roles_exists": {
            "type": "boolean",
            "description": "Presente quando roles_exists é solicitado."
          }
        },
        "required": [
          "id",
          "name",
          "email"
        ]
      },
      "MuscleGroup": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "Exercise": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "muscle_group_id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "gif": {
            "type": "string",
            "format": "uri"
          },
          "muscle_group": {
            "description": "Incluído apenas quando include=muscleGroup é informado.",
            "allOf": [
              {
                "$ref": "#/components/schemas/MuscleGroup"
              }
            ]
          }
        },
        "required": [
          "id",
          "muscle_group_id",
          "name",
          "gif"
        ]
      },
      "Workout": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "user_id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "user": {
            "description": "Incluído apenas quando include=user é informado.",
            "allOf": [
              {
                "$ref": "#/components/schemas/User"
              }
            ]
          }
        },
        "required": [
          "id",
          "user_id",
          "name"
        ]
      },
      "WorkoutExercise": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "exercise_id": {
            "type": "integer"
          },
          "workout_id": {
            "type": "integer"
          },
          "sets": {
            "type": "integer"
          },
          "reps": {
            "type": "integer"
          },
          "weight": {
            "type": [
              "number",
              "null"
            ]
          },
          "exercise": {
            "description": "Incluído apenas quando include=exercise é informado.",
            "allOf": [
              {
                "$ref": "#/components/schemas/Exercise"
              }
            ]
          },
          "workout": {
            "description": "Incluído apenas quando include=workout é informado.",
            "allOf": [
              {
                "$ref": "#/components/schemas/Workout"
              }
            ]
          }
        },
        "required": [
          "id",
          "exercise_id",
          "workout_id",
          "sets",
          "reps",
          "weight"
        ]
      },
      "ExerciseLog": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "user_id": {
            "type": "integer"
          },
          "exercise_id": {
            "type": "integer"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "sets": {
            "type": "integer"
          },
          "reps": {
            "type": "integer"
          },
          "weight": {
            "type": [
              "number",
              "null"
            ]
          },
          "user": {
            "description": "Incluído apenas quando include=user é informado.",
            "allOf": [
              {
                "$ref": "#/components/schemas/User"
              }
            ]
          },
          "exercise": {
            "description": "Incluído apenas quando include=exercise é informado.",
            "allOf": [
              {
                "$ref": "#/components/schemas/Exercise"
              }
            ]
          }
        },
        "required": [
          "id",
          "user_id",
          "exercise_id",
          "date",
          "sets",
          "reps",
          "weight"
        ]
      },
      "PaginationLinks": {
        "type": "object",
        "properties": {
          "first": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "last": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "prev": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          },
          "next": {
            "type": [
              "string",
              "null"
            ],
            "format": "uri"
          }
        }
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "current_page": {
            "type": "integer"
          },
          "from": {
            "type": "integer"
          },
          "last_page": {
            "type": "integer"
          },
          "path": {
            "type": "string"
          },
          "per_page": {
            "type": "integer"
          },
          "to": {
            "type": "integer"
          },
          "total": {
            "type": "integer"
          }
        }
      },
      "PaginatedUsers": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/User"
            }
          },
          "links": {
            "$ref": "#/components/schemas/PaginationLinks"
          },
          "meta": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "data",
          "links",
          "meta"
        ]
      },
      "PaginatedMuscleGroups": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MuscleGroup"
            }
          },
          "links": {
            "$ref": "#/components/schemas/PaginationLinks"
          },
          "meta": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "data",
          "links",
          "meta"
        ]
      },
      "PaginatedExercises": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Exercise"
            }
          },
          "links": {
            "$ref": "#/components/schemas/PaginationLinks"
          },
          "meta": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "data",
          "links",
          "meta"
        ]
      },
      "PaginatedWorkouts": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Workout"
            }
          },
          "links": {
            "$ref": "#/components/schemas/PaginationLinks"
          },
          "meta": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "data",
          "links",
          "meta"
        ]
      },
      "PaginatedWorkoutExercises": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WorkoutExercise"
            }
          },
          "links": {
            "$ref": "#/components/schemas/PaginationLinks"
          },
          "meta": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "data",
          "links",
          "meta"
        ]
      },
      "PaginatedExerciseLogs": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExerciseLog"
            }
          },
          "links": {
            "$ref": "#/components/schemas/PaginationLinks"
          },
          "meta": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "data",
          "links",
          "meta"
        ]
      }
    },
    "parameters": {
      "PageNumber": {
        "name": "page[number]",
        "in": "query",
        "description": "Número da página (JSON:API pagination).",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        }
      },
      "PageSize": {
        "name": "page[size]",
        "in": "query",
        "description": "Quantidade de registros por página (máx. 50).",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 50,
          "default": 10
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}